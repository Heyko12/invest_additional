## Теоретическое обоснование лучшей производительности при меньшем `timeframe` и код:

### В этой стратегии мы будем использовать индикатор, обсуждавшийся на лекциях - RSI, в нем мы используем стандартные параметры timeperiod и перепроданности (14 и 30), перекупленность установив чуть меньшую чем ставят стандартно (50 вместо 70ти), кроме того, тут мы выставили более быстрые параметры minimal_roi и stoploss. Итак, RSI — это моментум-осциллятор, измеряющий относительную скорость и величину ценовых изменений за заданный период. Он реагирует на краткосрочные перекупленность/перепроданность (overbought/oversold) (не основываясь по сути на построении длительных сглаженных трендов) и быстрее генерирует сигналы, но при этом сильнее подвержен ложным пробоям в шумных условиях:

```
class RSI(IStrategy):
    minimal_roi = {"0": 0.02}
    stoploss = -0.02
    trailing_stop = False

    def populate_indicators(self, dataframe: pd.DataFrame, metadata: dict) -> pd.DataFrame:
        dataframe["rsi"] = ta.RSI(dataframe, timeperiod=14)
        return dataframe

    def populate_entry_trend(self, dataframe: pd.DataFrame, metadata: dict) -> pd.DataFrame:
        dataframe.loc[(dataframe["rsi"] < 30), "enter_long"] = 1
        return dataframe

    def populate_exit_trend(self, dataframe: pd.DataFrame, metadata: dict) -> pd.DataFrame:
        dataframe.loc[(dataframe["rsi"] > 50), "exit_long"] = 1
        return dataframe
```

## Запуск стратегии на разных таймфреймах:

### Из корня репозитория переходим в папку task_2:

```
cd task_2
```

### Билдим образ:

```
docker build -t antipova-rsi .
```

### Бэктестим стратегию Movingverage при `timeframe=4h`:

```
$ docker run --rm antipova-rsi backtesting --strategy RSI --timeframe 4h --timerange 20220101-20250101
                                                         STRATEGY SUMMARY                                                          
┏━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━┓
┃ Strategy ┃ Trades ┃ Avg Profit % ┃ Tot Profit USDT ┃ Tot Profit % ┃ Avg Duration ┃  Win  Draw  Loss  Win% ┃            Drawdown ┃
┡━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━┩
│      RSI │    180 │        -0.40 │        -216.064 │       -21.61 │      9:31:00 │   73     0   107  40.6 │ 244.93 USDT  24.04% │
└──────────┴────────┴──────────────┴─────────────────┴──────────────┴──────────────┴────────────────────────┴─────────────────────┘
```

### Бэктестим стратегию MovingAverage при `timeframe=5m`:

```
$ docker run --rm antipova-rsi backtesting --strategy RSI --timeframe 5m --timerange 20220101-20250101
                                                         STRATEGY SUMMARY                                                         
┏━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━┓
┃ Strategy ┃ Trades ┃ Avg Profit % ┃ Tot Profit USDT ┃ Tot Profit % ┃ Avg Duration ┃  Win  Draw  Loss  Win% ┃           Drawdown ┃
┡━━━━━━━━━━╇━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━┩
│      RSI │   2319 │         0.03 │         234.821 │        23.48 │      1:32:00 │ 1589     0   730  68.5 │ 100.03 USDT  9.84% │
└──────────┴────────┴──────────────┴─────────────────┴──────────────┴──────────────┴────────────────────────┴────────────────────┘
```

## Как и в первом задании, тут мы так же видим все что обсудили выше: RSI более эффективно применяется на меньших `timeframe`, так как лучше выявляет краткосрочные перекупленность/перепроданность.